#> asset:villager/0017.kiwi/trade_info/2.trade_info

# まずデータを初期化します(これは消さないでね)
data remove storage asset: villager

# まずアイテムを持たせる防具立てを召喚します
# summon armor_stand -2000.0 0.0 0.0 {Tags:["ItemHolder"]}

# 交易品となるアイテムを持たせます(Mainhand→buy、Offhand→buyB、Head→sell)
# item replace entity @e[tag=ItemHolder,limit=1] weapon.mainhand with diamond 5
# item replace entity @e[tag=ItemHolder,limit=1] weapon.offhand with emerald 64
# item replace entity @e[tag=ItemHolder,limit=1] armor.head with diamond_block 1
# /loot版も用意しておきますね
# /lootでやる場合、個数を別コマンドで設定してあげる必要があります
# loot replace entity @e[tag=ItemHolder,limit=1] weapon.mainhand loot <path>
# data modify entity @e[tag=ItemHolder,limit=1] HandItems[0].Count set value 1
# loot replace entity @e[tag=ItemHolder,limit=1] weapon.offhand loot <path>
# data modify entity @e[tag=ItemHolder,limit=1] HandItems[1].Count set value 1
# loot replace entity @e[tag=ItemHolder,limit=1] armor.head loot <path>
# data modify entity @e[tag=ItemHolder,limit=1] ArmorItems[0].Count set value 1

# 持たせたアイテムを元にstorage上の取引を追加します
# data modify storage _: _ set from entity @e[tag=ItemHolder,limit=1]
# data modify storage asset: villager.Offers.Recipes set value {buy:{},buyB:{},sell:{}}
# data modify storage asset: villager.Offers.Recipes[-1].buy set from storage _: _.HandItems[0]
# data modify storage asset: villager.Offers.Recipes[-1].buyB set from storage _: _.HandItems[1]
# data modify storage asset: villager.Offers.Recipes[-1].sell set from storage _: _.ArmorItems[0]
# data remove storage _: _
# 他にも入れたい上方(xpや使用上限など)があれば各自設定します
# data modify storage asset: villager.Offers.Recipes[-1] merge value {xp:0,MaxUses:2147483637}

# 交易品を持たせるところから繰り返します。オフハンドを消したりするのは忘れずに

# 取引情報を設定し終わったら防具立てを処理する
# kill @e[tag=ItemHolder,limit=1]

# nbtなどはsummon側で設定します。ということで終了

data modify storage asset: villager.Offers.Recipes set value [{maxUses: 2147483647, buyB: {id: "minecraft:air", Count: 65b}, buy: {id: "minecraft:emerald", Count: 1b}, sell: {id: "minecraft:grass", Count: 4b, tag: {RepairCost: 1000000000, display: {Name: '{"text":"§rバラン"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:air", Count: 65b}, buy: {id: "minecraft:emerald", Count: 1b}, sell: {id: "minecraft:fern", Count: 4b, tag: {RepairCost: 1000000000, display: {Name: '{"text":"§r§rプルーンの苗木"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:air", Count: 65b}, buy: {id: "minecraft:emerald", Count: 1b}, sell: {id: "minecraft:dead_bush", Count: 4b}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:wheat_seeds", Count: 2b}, buy: {id: "minecraft:dirt", Count: 1b}, sell: {id: "minecraft:grass_block", Count: 1b}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:brown_mushroom", Count: 2b}, buy: {id: "minecraft:dirt", Count: 1b}, sell: {id: "minecraft:mycelium", Count: 1b}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:air", Count: 65b}, buy: {id: "minecraft:lapis_block", Count: 1b}, sell: {id: "minecraft:jungle_leaves", Count: 1b, tag: {RepairCost: 1000000000, display: {Name: '{"text":"§r§2微粒子レベルで苗がでる(熱帯樹)"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:jungle_leaves", Count: 1b, tag: {RepairCost: 1000000000, display: {Name: '{"text":"§r§2微粒子レベルで苗がでる(熱帯樹)"}'}}}, buy: {id: "minecraft:lapis_block", Count: 1b}, sell: {id: "minecraft:spruce_leaves", Count: 1b, tag: {display: {Name: '{"text":"§r§a微粒子レベルで苗がでる(マツ)"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:spruce_leaves", Count: 1b, tag: {display: {Name: '{"text":"§r§a微粒子レベルで苗がでる(マツ)"}'}}}, buy: {id: "minecraft:lapis_block", Count: 1b}, sell: {id: "minecraft:oak_leaves", Count: 1b, tag: {display: {Name: '{"text":"§r§3微粒子レベルで苗がでる(オーク)"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:air", Count: 65b}, buy: {id: "minecraft:oak_sapling", Count: 1b}, sell: {id: "minecraft:apple", Count: 2b}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:air", Count: 65b}, buy: {id: "minecraft:azure_bluet", Count: 4b}, sell: {id: "minecraft:feather", Count: 1b}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:air", Count: 65b}, buy: {id: "minecraft:dandelion", Count: 4b}, sell: {id: "minecraft:rabbit_foot", Count: 1b}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald", Count: 4b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {Potion: "minecraft:long_poison"}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald", Count: 4b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {Potion: "minecraft:long_slowness"}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald", Count: 4b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {Potion: "minecraft:strong_healing"}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald", Count: 4b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {Potion: "minecraft:strong_harming"}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald", Count: 4b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {Potion: "minecraft:long_weakness"}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald", Count: 4b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {Potion: "minecraft:luck"}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald", Count: 4b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:spectral_arrow", Count: 16b}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald_block", Count: 1b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {CustomPotionEffects: [{Amplifier: -128b, Duration: 0, Id: 8b}, {Amplifier: -128b, Duration: 0, Id: 26b}, {Amplifier: 127b, Duration: 3, Id: 25b}], HideFlags: 32, Potion: "minecraft:swiftness", display: {Lore: ['{"text":"§7上空に吹き飛ばし、叩きつける"}'], Name: '{"text":"§3§l暴風の矢"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald_block", Count: 1b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {CustomPotionEffects: [{Duration: 1200, Id: 5b, Amplifier: 4b, ShowParticles: 0b}, {Amplifier: -128b, Duration: 0, Id: 8b}, {Amplifier: -128b, Duration: 0, Id: 26b}, {Amplifier: 1b, Duration: 1200, Id: 10b}, {Amplifier: -128b, Duration: 0, Id: 25b}, {Duration: 0, Id: 6b, Amplifier: 0b, ShowParticles: 0b}], HideFlags: 32, Potion: "minecraft:strength", display: {Lore: ['{"text":"§7刺さった者を強化し、回復を促す。"}'], Name: '{"text":"§a§l活力の矢"}'}}}, xp: 1, uses: 1, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald_block", Count: 1b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {CustomPotionEffects: [{Amplifier: -128b, Duration: 120, Id: 5b}, {Amplifier: -128b, Duration: 120, Id: 16b}, {Duration: 120, Id: 25b, Amplifier: -128b, ShowParticles: 0b}], HideFlags: 32, Potion: "minecraft:slowness", display: {Lore: ['{"text":"§7超重力で地に落とす。"}'], Name: '{"text":"§5§l超重力の矢"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald_block", Count: 1b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {CustomPotionEffects: [{Amplifier: 127b, Duration: 2, Id: 1b}, {Amplifier: -50b, Duration: 0, Id: 5b}, {Amplifier: -50b, Duration: 0, Id: 16b}, {Amplifier: -128b, Duration: 20, Id: 25b}], HideFlags: 32, Potion: "minecraft:mundane", display: {Lore: ['{"text":"§7移動速度を急激に上げて混乱させる"}'], Name: '{"text":"§d§l混乱の矢"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald_block", Count: 1b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {CustomPotionEffects: [{Amplifier: 1b, Duration: 60, Id: 24b}, {Amplifier: 1b, Duration: 60, Id: 25b}], HideFlags: 32, Potion: "minecraft:water", display: {Lore: ['{"text":"§7相手を風船のように浮かせる矢。"}'], Name: '{"text":"§9§lバルーン・アローン"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald_block", Count: 1b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {CustomPotionEffects: [{Amplifier: 5b, Duration: 150, Id: 2b}, {Amplifier: 10b, Duration: 150, Id: 18b}, {Amplifier: 3b, Duration: 150, Id: 20b}], HideFlags: 32, Potion: "minecraft:awkward", display: {Lore: ['{"text":"§7刺さった者を呪い、拘束する"}'], Name: '{"text":"§4§l呪殺の矢"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald_block", Count: 1b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {CustomPotionEffects: [{Amplifier: 3b, Duration: 20, Id: 6b}, {Amplifier: -25b, Duration: 0, Id: 12b}, {Amplifier: -128b, Duration: 0, Id: 25b}], HideFlags: 32, Potion: "minecraft:luck", display: {Lore: ['{"text":"§7ｱﾝﾃﾞｯﾄﾞに対し大ﾀﾞﾒｰｼﾞを与え、"}', '{"text":"§7それ以外のものを癒す"}'], Name: '{"text":"§f§l祈りの矢"}'}}}, xp: 1, uses: 1, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald_block", Count: 1b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {CustomPotionEffects: [{Duration: 20, Id: 7b, Amplifier: 3b, ShowParticles: 0b}, {Duration: 0, Id: 25b, Amplifier: -128b, ShowParticles: 1b}, {Duration: 0, Id: 23b, Amplifier: 101b, ShowParticles: 1b}], HideFlags: 32, Potion: "minecraft:water", display: {Lore: ['{"text":"§7生物に対し大ﾀﾞﾒｰｼﾞを与え、"}', '{"text":"§7それ以外のものを癒す"}'], Name: '{"text":"§8§l冥界の矢"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:emerald_block", Count: 1b}, buy: {id: "minecraft:arrow", Count: 16b}, sell: {id: "minecraft:tipped_arrow", Count: 16b, tag: {CustomPotionEffects: [{Duration: 0, Id: 25b, Amplifier: -128b, ShowParticles: 1b}, {Duration: 0, Id: 23b, Amplifier: 75b, ShowParticles: 1b}, {Duration: 250, Id: 8b, Amplifier: -15b, ShowParticles: 0b}, {Duration: 150, Id: 18b, Amplifier: 10b, ShowParticles: 0b}], HideFlags: 32, Potion: "minecraft:water", display: {Lore: ['{"text":"§7刺さった者を脆弱にし、接地時に傷つく"}'], Name: '{"text":"§2§l脆弱の矢"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:splash_potion", Count: 1b, tag: {CustomPotionEffects: [{Duration: 20, Id: 7b, Amplifier: 29b, ShowParticles: 1b}], HideFlags: 32, Potion: "minecraft:water", display: {Lore: ['{"text":"§4§o強力な治癒力を求めたが故に開発された"}', '{"text":"§4§oロスト・オブ・ライブズの効果は"}', '{"text":"§4§oアンデッドへの効果が薄かった。"}', '{"text":"§4§oそこで我々は「発酵したクモの目」を"}', '{"text":"§4§o配合することで効果を反転させた。"}', '{"text":"§4§o予想通り、アンデッドMOBに対して絶大な効果を"}', '{"text":"§4§o誇るようになったが、当然のように"}', '{"text":"§4§oアンデッドでないMOBへの効果は薄くなった"}'], Name: '{"text":"ロスト・オブ・デッド"}'}}}, buy: {id: "minecraft:splash_potion", Count: 1b, tag: {CustomPotionEffects: [{Duration: 20, Id: 6b, Amplifier: 29b, ShowParticles: 1b}], HideFlags: 32, Potion: "minecraft:water", display: {Lore: ['{"text":"§4§o元々は治癒の効果をより強力に引き出す"}', '{"text":"§4§oための実験で出来た失敗作だったが、"}', '{"text":"§4§oその異常な治癒力で、生物であるならば"}', '{"text":"§4§oアイテムすら落とさず消滅させる"}', '{"text":"§4§o恐ろしい効果を持つ。"}', '{"text":"§4§oこれはプレイヤーも例外ではなく、"}', '{"text":"§4§o持っている物をロストする。"}', '{"text":"§4§o尚、クリエイティブモードのような"}', '{"text":"§4§o「無敵状態」でも容赦なく即死する。"}', '{"text":"§4§oアンデッドにも少しだけ効果があるが、"}', '{"text":"§4§o即死には至らないので注意。"}'], Name: '{"text":"§8ロスト・オブ・ライブズ(絶対的即死)"}'}}}, sell: {id: "minecraft:tipped_arrow", Count: 1b, tag: {CustomPotionEffects: [{Amplifier: 29b, Duration: 15, Id: 6b}], HideFlags: 32, Potion: "minecraft:water", display: {Lore: ['{"text":"§7ｱﾝﾃﾞｯﾄﾞ系ﾓﾝｽﾀｰなら"}', '{"text":"§e1秒間に2回射たれる§7と§4§l即死§r§7する。"}'], Name: '{"text":"§4§lｾｶﾝﾄﾞ・ｵﾌﾞ・ﾃﾞｯﾄﾞの矢"}'}}}, xp: 1, uses: 1, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}, {maxUses: 2147483647, buyB: {id: "minecraft:oak_sapling", Count: 64b}, buy: {id: "minecraft:skeleton_skull", Count: 1b}, sell: {id: "minecraft:player_head", Count: 1b, tag: {SkullOwner: {Properties: {textures: [{Value: "eyJ0aW1lc3RhbXAiOjE0MTM1NTI5MzU1MTgsInByb2ZpbGVJZCI6IjI0MjA2NDUzMjVkMTRkYjRhYzRhNTVhNTU4NzNlNmZkIiwicHJvZmlsZU5hbWUiOiIxMDI0S2l3aV9BbWFsIiwiaXNQdWJsaWMiOnRydWUsInRleHR1cmVzIjp7IlNLSU4iOnsidXJsIjoiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS84ODQ2MjY5ZDI5MTFlMWIxNzQ3NzYyYjJiY2Y2ZjVjZmMxY2QwOTdjMDM3NjhhMWU5MTg0YTVlNDNhYzkwIn19fQ==", Signature: "bnj4CpoYrwhNf+2hod3ZdpMmF3GyC5ymI5Wo+4QD/V3M8PtHq58q32QcUNcx8fe0tdUXUnNUir004hgVxzkN3JTEzJ3M3MQMJsbqzkXs9MxGtg3gbFraDQmDPxvOmp4p0PKOej9fHlwj8kqdj0aEDRnWrLxhyu8flzSd7llvRj3KRfxGOYYS0N8H3f+Wc92ITZEJjwGKG8OP9UyrF5xHxNyMBoGDGI3mPr8H27ZQlnfe3vCdHVbScMGmoDYeTwqyX6aWeRwV3bzZC6OLK2a6qGArdjNLokLoIX7VkWM0ipIOgH8DOWNnFxIW4cqUyxcNqQHdX5+Foo7nPQ/FvQQe7D6styKocAhtozq9s9vYSGHQK7Fi0LfHA0VK6WhCXZfuLgH7jn0IPN3e44USNudy5X5lpwmdD4GeBrow1eAY5F5tvkrhiRnECKAF6oQltfmBMF9BD4TYg2nniXbgUiEAtCaEdRHOMvYeajb10BAKaHlWCGPwwoaXxvPxFlDBNfM0LDfRHFUv9DLYJLH7kev0P2uXmkxrXYXebSQXbZNy73QIxd1YSL4vPAOWUAQUHFbQ6F5qYAn9RPd91tsLy/LHCTsinuecZ62WDFCEEPEvTZEvfF4Ilcg1cgWq6zw2xD230psQrANNDTYgHgi7RkbNxZxf7Pvv2Jkr35CjPNIjgXI="}]}, Id: [I; 606102611, 634473908, -1404414555, 1483990781], Name: "1024Kiwi_Amal"}, display: {Name: '{"text":"§a§lKiwi"}'}}}, xp: 1, uses: 0, priceMultiplier: 0.0f, specialPrice: 0, demand: 0, rewardExp: 0b}]